<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>IkiaFanCard Form</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

</html>

<body>
    <!--
        id max length: 8 characters or 6 Chinese Characters
        num max length: 6 and must be numbers
    -->

    <!--Title-->
    <div class="title">
        <h1>获取IkiaFanCard</h1>
    </div>
    <!--Title End-->

    <form action="card.html" method="get" id="form">
        <div>
            <label for="id">用户名：</label>
            <input type="text" name="id" id="id" required>
            <span id="id_notice">建议最长控制在8个英文字符或6个中文字符或11个数字</span>
        </div>
        <div>
            <label for="num">编号：</label>
            <input type="text" name="num" id="num" maxlength="6" required>
            <span id="num_notice">最长6个数字</span>
        </div>
        <div>
            <input type="submit" value="获取">
        </div>

        <script>
            function getURLArgument(name) {
                // Decode the string
                var decoded = decodeURIComponent(window.location.search);
                // Create a regular expression to search for the name parameter
                var regex = new RegExp("[\\?&]" + name + "=([^&#]*)");
                // Execute the regular expression
                var results = regex.exec(decoded);
                // Return the value
                return results === null ? "" : results[1];
            }
            var id = getURLArgument("id");
            var num = getURLArgument("num");

            function autoSubmit() {
                document.getElementById("id").value = id;
                document.getElementById("num").value = num;
                document.getElementById("form").submit();
            }

            if (id != "" && num != "" && id != null && num != null) {
                autoSubmit();
            }
        </script>

</body>